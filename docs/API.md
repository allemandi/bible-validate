<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

*   [normalizeBookName][1]
    *   [Parameters][2]
    *   [Examples][3]
*   [parseChapterVerse][4]
    *   [Parameters][5]
    *   [Examples][6]
*   [parseBibleReference][7]
    *   [Parameters][8]
    *   [Examples][9]
*   [formatReference][10]
    *   [Parameters][11]
    *   [Examples][12]
*   [parseAndValidateReference][13]
    *   [Parameters][14]
    *   [Examples][15]
*   [getBook][16]
    *   [Parameters][17]
    *   [Examples][18]

## normalizeBookName

Normalizes a Bible book name or alias by trimming spaces, removing common prefixes,
converting ordinal prefixes to digits, and stripping non-alphanumeric characters.

### Parameters

*   `name` **[string][19]** The raw book name or alias to normalize, possibly with prefixes, punctuation, and mixed case.

### Examples

```javascript
// Converts ordinal prefix to digit and removes punctuation
normalizeBookName('1st John'); // '1john'
```

```javascript
// Removes unified prefixes and lowercases the name
normalizeBookName('The Epistle to the Romans'); // 'romans'
```

```javascript
// Strips non-alphanumeric characters and trims spaces
normalizeBookName('  Book of *EX*  '); // 'ex'
```

```javascript
// Returns null if input is null or undefined
normalizeBookName(null); // null
```

Returns **([string][19] | null)** A cleaned lowercase alphanumeric string with numeric prefixes for ordinals, or null if input is null or undefined.

## parseChapterVerse

Parses a string representing a chapter and optional verse or verse range
into an object with numeric values.

### Parameters

*   `str` **[string][19]** The string containing chapter and verse references, which may include words, punctuation, and ranges.

### Examples

```javascript
// Parses chapter only reference
parseChapterVerse('12'); // { chapter: 12, verseStart: null, verseEnd: null }
```

```javascript
// Parses chapter and single verse reference
parseChapterVerse('5:3'); // { chapter: 5, verseStart: 3, verseEnd: null }
```

```javascript
// Parses chapter with verse range including words and punctuation
parseChapterVerse('Chapter 13 Verses 4–7'); // { chapter: 13, verseStart: 4, verseEnd: 7 }
```

```javascript
// Parses chapter with verse range using "to" as a separator
parseChapterVerse('chap. 13, v3 to 8'); // { chapter: 13, verseStart: 3, verseEnd: 8 }
```

```javascript
// Returns null if no numeric chapter is present
parseChapterVerse('nonsense'); // null
```

```javascript
// Parses chapter and verse range with extra whitespace and punctuation
parseChapterVerse('  10 : 2  - 6 '); // { chapter: 10, verseStart: 2, verseEnd: 6 }
```

```javascript
// Handles pure whitespace and number combination
parseChapterVerse('  11  1   2 '); // { chapter: 11, verseStart: 1, verseEnd: 2 }
```

## parseBibleReference

Parses a Bible reference string into its book, chapter, and verse components, supporting various formats and spacing.

### Parameters

*   `ref` **[string][19]** The Bible reference string to parse, which may include ordinal prefixes, varying case, punctuation, and verse ranges.

### Examples

```javascript
// Parses ordinal prefix and returns structured reference
parseBibleReference('2nd Kings 4:2'); 
// { book: '2kings', chapter: 4, verseStart: 2, verseEnd: null }
```

```javascript
// Handles mixed casing, chapter/verse labels, and verse range
parseBibleReference(' Iii JohN  Chap. 1 verses 9 to  11'); 
// { book: '3john', chapter: 1, verseStart: 9, verseEnd: 11 }
```

```javascript
// Returns null fields when chapter and verse are omitted
parseBibleReference('Genesis'); 
// { book: 'genesis', chapter: null, verseStart: null, verseEnd: null }
```

```javascript
// Cleans and parses input with excessive spacing
parseBibleReference('  1st   Samuel    17 : 4-9 '); 
// { book: '1samuel', chapter: 17, verseStart: 4, verseEnd: 9 }
```

```javascript
// Returns null for invalid or non-string input
parseBibleReference('!!!'); 
// { book: null, chapter: null, verseStart: null, verseEnd: null }
```

```javascript
parseBibleReference(42); // null
```

Returns **(ParsedReference | null)** An object with normalized book name, chapter, verseStart, and verseEnd fields, or null if the input is not a string.

## formatReference

Formats a scripture reference string based on the provided input. Input is not normalized.

### Parameters

*   `reference` **[Object][20]** The reference object.

    *   `reference.book` **[string][19]** The name of the book (e.g., "Genesis").
    *   `reference.chapter` **[number][21]?** The chapter number.
    *   `reference.verseStart` **[number][21]?** The starting verse number.
    *   `reference.verseEnd` **([number][21] | null)?** The ending verse number (optional, used for ranges).

### Examples

```javascript
formatReference({}); // ''
formatReference({ book: 'Genesis' }); // 'Genesis'
formatReference({ book: 'Genesis', chapter: 1 }); // 'Genesis 1'
formatReference({ book: 'Genesis', chapter: 1, verseStart: 1 }); // 'Genesis 1:1'
formatReference({ book: 'Genesis', chapter: 1, verseStart: 1, verseEnd: 5 }); // 'Genesis 1:1-5'
formatReference({ book: 'Genesis', chapter: 1, verseStart: 3, verseEnd: 3 }); // 'Genesis 1:3'
```

Returns **[string][19]** A formatted Bible reference (e.g., "Genesis 1:1-5"). Returns an empty string if no input is provided.

## parseAndValidateReference

Parses and validates a Bible reference string.

### Parameters

*   `reference` **[string][19]** The raw Bible reference string to be parsed, normalized, and formatted (e.g., "Genesis 1:1", "Letter to the Romans. Ch 2 , 1 to 3").
*   `$1` **[Object][20]**  (optional, default `{}`)

    *   `$1.structured`   (optional, default `false`)

### Examples

```javascript
parseAndValidateReference('  GN. Ch 1 , 1 to 3');
// → { isValid: true, formatted: 'Genesis 1:1-3', error: null, original: '  GN. Ch 1 , 1 to 3' }
parseAndValidateReference('gEnEsIs 1 verse 1', { structured: true });
// → {
//     isValid: true,
//     book: 'Genesis',
//     chapter: 1,
//     verseStart: 1,
//     verseEnd: null,
//     formatted: 'Genesis 1:1',
//     error: null,
//     original: 'gEnEsIs 1 verse 1'
//   }
parseAndValidateReference('Book of Judas 1:1');
// → { isValid: false, error: 'Invalid book name', original: 'Book of Judas 1:1' }
```

Returns **(SimpleResult | StructuredResult)** Result object depending on options.structured.

## getBook

Retrieves a book object from the Bible collection matching the given book name or its aliases, ignoring case and special characters.

### Parameters

*   `book` **[string][19]** The name or alias of the book to lookup, which will be normalized internally.

### Examples

```javascript
// Returns the Genesis book object with its aliases and 50 chapters
getBook('Genesis'); // { book: 'Genesis', aliases: ['Gen', 'Ge', 'Gn'], chapters: [...] }
// Returns the Song of Solomon book object when queried with a normalized alias ignoring punctuation and case
getBook('The CANticle of CantiClEs !!?*'); // { book: 'Song of Solomon', aliases: [...], chapters: [...] }
// Returns null for an unknown or invalid book name
getBook('Judas'); // null
```

Returns **(BibleBook | null)** The matched book object containing book name, aliases, and chapters, or null if no match is found.

[1]: #normalizebookname

[2]: #parameters

[3]: #examples

[4]: #parsechapterverse

[5]: #parameters-1

[6]: #examples-1

[7]: #parsebiblereference

[8]: #parameters-2

[9]: #examples-2

[10]: #formatreference

[11]: #parameters-3

[12]: #examples-3

[13]: #parseandvalidatereference

[14]: #parameters-4

[15]: #examples-4

[16]: #getbook

[17]: #parameters-5

[18]: #examples-5

[19]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[20]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[21]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number
